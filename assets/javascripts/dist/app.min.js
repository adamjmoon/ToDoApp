define("InMemory", function () {
    function e() {
        var e = this;
        this.Store = new function () {
            var t = this;
            this.get = function (e) {
                return t[e]
            }, this.post = function (e, n) {
                return t[e] = ko.toJSON(n), t[e]
            }, this.put = function (e, n) {
                return t[e] = ko.toJSON(n), t[e]
            }
        }, this.get = function (t) {
            return ko.utils.parseJson(e.Store.get(t))
        }, this.post = function (t, n) {
            return ko.utils.parseJson(e.Store.post(t, n))
        }, this.put = function (t, n) {
            return ko.utils.parseJson(e.Store.post(t, n))
        }
    }

    return e
}), define("bindingHandlers", function () {
    function e() {
        var e = 13;
        ko.bindingHandlers.enterKey = {init: function (t, n, r, i) {
            var s, o;
            s = function (t, r) {
                r.keyCode === e && n().call(this, t, r)
            }, o = function () {
                return{keyup: s}
            }, ko.bindingHandlers.event.init(t, o, r, i)
        }}, ko.bindingHandlers.selectAndFocus = {init: function (e, t, n) {
            ko.bindingHandlers.hasfocus.init(e, t, n), ko.utils.registerEventHandler(e, "focus", function () {
                e.focus()
            })
        }, update: function (e, t) {
            ko.utils.unwrapObservable(t()), setTimeout(function () {
                ko.bindingHandlers.hasfocus.update(e, t)
            }, 0)
        }}
    }

    return e
}), define("dataservice", function () {
    function e() {
        $.ajaxSetup({statusCode: {401: function () {
            location.href = "/#login"
        }}}), self.get = function (t) {
            var n = $.Deferred();
            return e("GET", t, {}, {success: function (e) {
                n.resolve(e)
            }, error: function (e, t) {
                n.rejectWith(this, [e, t])
            }}), n.promise()
        }, self.post = function (t, n) {
            var r = $.Deferred();
            return e("POST", t, n, {success: function (e) {
                r.resolve(e)
            }, error: function (e, t) {
                r.rejectWith(this, [e, t])
            }}), r.promise()
        }, self.put = function (t, n) {
            var r = $.Deferred();
            return e("PUT", t, n, {success: function (e) {
                r.resolve(e)
            }, error: function (e, t) {
                r.rejectWith(this, [e, t])
            }}), r.promise()
        }, self.delete = function (t) {
            var n = $.Deferred();
            return e("DELETE", t, "", {success: function (e) {
                n.resolve(e)
            }, error: function (e, t) {
                n.rejectWith(this, [e, t])
            }}), n.promise()
        };
        var e = function (e, t, n, r, i) {
            var s = "/capi" + t, o = "";
            e != "GET" && (o = config.packageData(n)), i === undefined && (i = !0), $.ajax({url: s, type: e, async: i, data: o, contentType: "application/json", success: function (e) {
                typeof e == "string" && e !== "" && (e = JSON.parse(e)), r && r.success && r.success(e)
            }, error: function (e) {
                if ($.disableErrors)return;
                this.eventArgs = {handledError: !1}, r && r.error && r.error(e, this.eventArgs), !this.eventArgs.handledError
            }})
        }
    }

    return e
}), define("errorlog", [], function () {
    function e() {
        var e = function (e, t, n) {
            return n || (n = 0), sendRequest("POST", e, {message: t}, n)
        };
        this.init = function () {
            config.init()
        }, this.info = function (t, n) {
            return e("/log/info", t, n)
        }, this.warning = function (t, n) {
            return e("/log/warning", t, n)
        }, this.error = function (t, n) {
            return e("/log/error", t, n)
        }, this.critical = function (t, n) {
            return e("/log/critical", t, n)
        }
    }

    return e
}), define("listViewModel", ["viewModel"], function (e) {
    function t() {
    }

    return t.prototype.map = function (t) {
        var n = ko.observableArray([]), r = new e;
        return _.map(t, function (e) {
            n.push(r.map(e))
        }), n
    }, t
}), define("localStorage", function () {
    function e() {
        this.get = function (e) {
            return ko.utils.parseJson(amplify.store(e))
        }, this.post = function (e, t) {
            return amplify.store(e, t), ko.utils.parseJson(amplify.store(e))
        }, this.put = function (e, t) {
            return amplify.store(e, t), ko.utils.parseJson(amplify.store(e))
        }
    }

    return e
}), define("ot/model", ["OT"], function (e) {
    function t(t) {
        var n = t || "";
        this.setRoute = function (e) {
            return n = e, n
        }, this.getRoute = function () {
            return n
        }, this.get = function () {
            return e.DataService.get(self.apiRoute)
        }, this.post = function (n) {
            return e.DataService.post(self.apiRoute, n)
        }, this.put = function (n) {
            return e.DataService.put(self.apiRoute, n)
        }
    }

    return t
}), define("util", function () {
    function e() {
        typeof Object.create == "undefined" && (Object.create = function (e) {
            function t() {
            }

            return t.prototype = e, new t
        }), Function.prototype.inherits = function (e) {
            return e.constructor == Function ? (this.prototype = new e, this.prototype.constructor = this, this.prototype.parent = e.prototype) : (this.prototype = e, this.prototype.constructor = this, this.prototype.parent = e), this
        }, Function.prototype.extends = function (e) {
            if (e instanceof Function) {
                var t = new e;
                for (var n in t)this[n] = t[n]
            } else for (var n in e)this[n] = e[n];
            return this
        }
    }

    return e
}), define("viewModel", ["viewModelMap"], function (e) {
    function t() {
        this.observe = !1, this.subscribe = undefined
    }

    return t.prototype.observeAll = function () {
        t.observe = !0
    }, t.prototype.subscribeAll = function () {
        t.subscribe = function (e, t) {
        }
    }, t.prototype.map = function (n) {
        var r = new e;
        return r.map(n, t.observe, t.subscribe)
    }, t
}), define("viewModelMap", function () {
    var e = function () {
    };
    return e.prototype.map = function (e, t, n) {
        var r = {};
        for (var i in e)t ? (r[i] = ko.observable(e[i]), n && r[i].subscribe(new Function("newValue", "subscribeCallback('" + i + "',newValue);"))) : r[i] = e[i];
        return r
    }, e
}), define("OT", ["util", "bindingHandlers", "dataservice"], function (e, t, n) {
    var r = new e, i = new t, s = new n, o = {Util: r, BindingHandlers: r, DataService: s};
    return window.OT = o, o
}), define("todo", function () {
    function e(e, t) {
        this.title = ko.observable(e), this.completed = ko.observable(t), this.editing = ko.observable(!1)
    }

    return e
}), define("viewmodels/dashboard", ["plugins/router"], function (e) {
    function t() {
        this.router = e, this.activate = function () {
            console.log("dashboard")
        }
    }

    return t
}), define("viewmodels/shell", ["plugins/router", "durandal/app"], function (e, t) {
    return{router: e, activate: function () {
        return e.map([
            {route: "", title: "Dashboard", moduleId: "viewmodels/dashboard", nav: !0},
            {route: "todo", title: "Todo", moduleId: "viewmodels/todo", hash: "#work", nav: !0},
            {route: "todo/:showMode", title: "Basic", moduleId: "viewmodels/todo", hash: "#todo", nav: !1},
            {route: "work", title: "Work", moduleId: "viewmodels/work", hash: "#work", nav: !0},
            {route: "work/:showMode", title: "Work", moduleId: "viewmodels/work", hash: "#work", nav: !1}
        ]).buildNavigationModel(), e.activate()
    }}
}), define("viewmodels/todo", ["todo", "ot/model", "plugins/router"], function (e, t, n) {
    function r() {
    }

    var i = r.prototype;
    return i.router = n, i.model = new t("todo/basic"), i.current = ko.observable(), i.showMode = ko.observable("all"), i.activate = function (e) {
        console.log(e)
    }, i.todos = ko.observableArray(ko.utils.arrayMap(i.model.get() || i.model.put("[]"), function (t) {
        return new e(t.title, t.completed)
    })), i.applyPlugins = function () {
    }, i.filteredTodos = ko.computed(function () {
        switch (i.showMode()) {
            case"active":
                return i.todos().filter(function (e) {
                    return!e.completed()
                });
            case"completed":
                return i.todos().filter(function (e) {
                    return e.completed()
                });
            default:
                return i.todos()
        }
    }), i.add = function () {
        var t = i.current().trim();
        t && (i.todos.push(new e(t)), i.current(""))
    }, i.remove = function (e) {
        i.todos.remove(e)
    }, i.removeCompleted = function () {
        i.todos.remove(function (e) {
            return e.completed()
        })
    }, i.editItem = function (e) {
        e.editing(!0)
    }, i.stopEditing = function (e) {
        e.editing(!1), e.title().trim() || i.remove(e)
    }, i.completedCount = ko.computed(function () {
        return ko.utils.arrayFilter(i.todos(),function (e) {
            return e.completed()
        }).length
    }), i.remainingCount = ko.computed(function () {
        return i.todos().length - i.completedCount()
    }), i.allCompleted = ko.computed({read: function () {
        return!i.remainingCount()
    }, write: function (e) {
        ko.utils.arrayForEach(i.todos(), function (t) {
            t.completed(e)
        })
    }}), i.getLabel = function (e) {
        return ko.utils.unwrapObservable(e) === 1 ? "item" : "items"
    }, ko.computed(function () {
        i.model.put(ko.toJSON(i.todos))
    }).extend({throttle: 1e3}), r
}), define("viewmodels/work", ["viewmodels/todo"], function (e) {
    function t() {
    }

    t.inherits(e);
    var n = t.prototype;
    return n.activate = function (e) {
        n.showMode(e)
    }, n.model.setRoute("todo/work"), n.todos(n.model.get()), t
}), define("app", function () {
}), require.config({baseUrl: "/assets/javascripts/", paths: {text: "vendor/requirejs-text/text", dataservice: "localStorage", plugins: "durandal/plugins"}}), require(["app"], function () {
    define("knockout", function () {
        return window.ko
    }), define("jquery", function () {
        return window.$
    }), require(["durandal/app", "durandal/viewLocator", "durandal/system", "localStorage", "OT"], function (e, t, n, r, i) {
        i.DataService = new r, e.title = "Durandal Starter Kit", e.configurePlugins({router: !0, dialog: !0, widget: !0}), e.start().then(function () {
            t.useConvention(), e.setRoot("viewmodels/shell")
        })
    })
}), define("main", function () {
});